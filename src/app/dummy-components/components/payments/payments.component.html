<div class="container-fluid bg-payment vh-100">
    <h1 class="text-white fw-bold text-center py-5">Payments Simulation</h1>
    <div class="row m-0 gx-5 w-75 mx-auto mt-5">
        <form class="col-6 p-5 bg-white" [formGroup]="paymentForm" (ngSubmit)="onSubmit()"
            style="border-radius: 5px 0px 0px 5px;">
            <h4 class="fw-bold text-center">Create Payment</h4>
            <div class="mb-4 row px-5 mt-4">
                <label for="inputUser" class="col-2 col-form-label fw-bold">User</label>
                <div class="col-8">
                    <select class="form-select shadow-none" aria-label="Default select example" formControlName="user">
                        <option *ngFor="let user of (users$ | async)" [ngValue]="user.email"> {{ user.email }}
                        </option>
                    </select>
                </div>
            </div>
            <div class="mb-4 row px-5">
                <label for="inputVehicle" class="col-2 col-form-label fw-bold">Vehicle</label>
                <div class="col-sm-8">
                    <select class="form-select shadow-none" aria-label="Default select example"
                        formControlName="vehicleBoardReference">
                        <option *ngFor="let vehicle of (vehicles$ | async)" [ngValue]="vehicle.boardReference"> {{
                            vehicle.boardReference }}
                        </option>
                    </select>
                </div>
            </div>

            <div class="mb-4 row px-5">
                <label for="inputCurrency" class="col-2 col-form-label fw-bold">Currency</label>
                <div class="col-3">
                    <input class="form-control shadow-none" type="text" id="inputCurrency" formControlName="currency"
                        aria-label="readonly input example" readonly>
                </div>
                <label for="inputAmount" class="col-auto col-form-label fw-bold ms-4">Amount</label>
                <div class="col-3 pe-0">
                    <input type="number" class="form-control shadow-none" id="inputAmount" formControlName="amount"
                        placeholder="1000">
                </div>
            </div>
            <div class="mb-4 row px-5">
                <label for="inputMethod" class="col-sm-2 col-form-label fw-bold">Method</label>
                <div class="col-8">
                    <select class="form-select shadow-none" formControlName="method">
                        <option *ngFor="let method of paymentMethods" [ngValue]="method">
                            {{
                            method }} </option>
                    </select>
                </div>
            </div>
            <div class="d-flex justify-content-center pt-4">
                <button type="submit" class="btn btn-primary text-white" [disabled]="!paymentForm.valid">Create
                    Payment</button>
            </div>
        </form>
        <div class="col-6 p-5 bg-secondary text-white" style="border-radius: 0px 5px 5px 0px;">
            <h4 class="fw-bold text-center">Finalize Payment</h4>
            <div class="mb-4 row px-5 mt-5 d-flex flex-column justify-content-between h-50">
                <div class="d-flex flex-row pb-3">
                    <label for="inputVehicle" class="col-sm-3 col-form-label fw-bold">Select Payment</label>
                    <div class="col-8 d-flex align-items-center">
                        <select class="form-select shadow-none" aria-label="Default select example"
                            [(ngModel)]="paymentId">
                            <option *ngFor="let payment of (payments$ | async)" [ngValue]="payment.id"> {{ payment.id }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn btn-primary text-white" (click)="finishService()">Finalize</button>
                </div>
            </div>
        </div>
    </div>
</div>